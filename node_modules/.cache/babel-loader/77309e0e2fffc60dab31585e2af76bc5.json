{"ast":null,"code":"var _jsxFileName = \"/home/kenny/ecommerce-front1/src/components/Cart.js\";\nimport React, { Component, useState } from 'react';\nimport { Link } from 'react-router-dom'; // import Colors from './Colors';\n// import '../css/Details.css';\n// import '../css/Cart.css';\n\nconst Cart = ({\n  payTotal,\n  cart,\n  isFetching,\n  error,\n  deletefromCart\n}) => {\n  const reduction = id => {\n    cart.forEach(item => {\n      if (item._id === id) {\n        item.count === 1 ? item.count = 1 : item.count -= 1;\n      }\n    });\n    setCart({\n      cart: cart\n    });\n    getTotal();\n  };\n\n  const increase = id => {\n    const {\n      cart\n    } = this.state;\n    cart.forEach(item => {\n      if (item._id === id) {\n        item.count += 1;\n      }\n    });\n    setCart({\n      cart: cart\n    });\n    getTotal();\n  };\n\n  const removeProduct = id => {\n    if (window.confirm('Voulez-vous vraiment supprimer cet article?')) {\n      const {\n        cart\n      } = this.state;\n      cart.forEach((item, index) => {\n        if (item._id === id) {\n          cart.splice(index, 1);\n        }\n      });\n      setCart({\n        cart: cart\n      });\n      getTotal();\n    }\n  };\n\n  const getTotal = () => {\n    const res = cart.reduce((prev, item) => {\n      return prev + item.price * item.count;\n    }, 0);\n    setTotal({\n      total: res\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 3\n    }\n  }, cart.length === 0 ? /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, \"Aucun produit dans le panier\") : cart.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details cart\",\n    key: item._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.src,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, item.title), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, item.price * item.count, \"\\u20AC\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 8\n    }\n  }, item.description), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 8\n    }\n  }, item.content), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"count\",\n    onClick: () => reduction(item._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, ' ', \"-\", ' '), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, item.count), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"count\",\n    onClick: () => increase(item._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, ' ', \"+\", ' '))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"delete\",\n    onClick: () => removeProduct(item._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"X\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/payment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, \"Paiement\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, \"Total:\", total, \"\\u20AC\")));\n};\n\nexport default Cart;","map":{"version":3,"sources":["/home/kenny/ecommerce-front1/src/components/Cart.js"],"names":["React","Component","useState","Link","Cart","payTotal","cart","isFetching","error","deletefromCart","reduction","id","forEach","item","_id","count","setCart","getTotal","increase","state","removeProduct","window","confirm","index","splice","res","reduce","prev","price","setTotal","total","length","textAlign","map","src","title","description","content"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\nimport { Link } from 'react-router-dom';\n// import Colors from './Colors';\n// import '../css/Details.css';\n// import '../css/Cart.css';\n\nconst Cart = ({ payTotal, cart, isFetching, error, deletefromCart }) => {\n\n\tconst reduction = (id) => {\n\t\tcart.forEach((item) => {\n\t\t\tif (item._id === id) {\n\t\t\t\titem.count === 1 ? (item.count = 1) : (item.count -= 1);\n\t\t\t}\n\t\t});\n\t\tsetCart({ cart: cart });\n\t\tgetTotal();\n\t};\n\n\tconst increase = (id) => {\n\t\tconst { cart } = this.state;\n\t\tcart.forEach((item) => {\n\t\t\tif (item._id === id) {\n\t\t\t\titem.count += 1;\n\t\t\t}\n\t\t});\n\t\tsetCart({ cart: cart });\n\t\tgetTotal();\n\t};\n\n\tconst removeProduct = (id) => {\n\t\tif (window.confirm('Voulez-vous vraiment supprimer cet article?')) {\n\t\t\tconst { cart } = this.state;\n\t\t\tcart.forEach((item, index) => {\n\t\t\t\tif (item._id === id) {\n\t\t\t\t\tcart.splice(index, 1);\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetCart({ cart: cart });\n\t\t\tgetTotal();\n\t\t}\n\t};\n\n\tconst getTotal = () => {\n\t\tconst res = cart.reduce((prev, item) => {\n\t\t\treturn prev + item.price * item.count;\n\t\t}, 0);\n\t\tsetTotal({ total: res });\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{cart.length === 0 ? (\n\t\t\t\t<h2 style={{ textAlign: 'center' }}>Aucun produit dans le panier</h2>\n\t\t\t) : (\n\t\t\t\tcart.map((item) => (\n\t\t\t\t\t<div className=\"details cart\" key={item._id}>\n\t\t\t\t\t\t<img src={item.src} alt=\"\" />\n\t\t\t\t\t\t<div className=\"box\">\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<h2>{item.title}</h2>\n\t\t\t\t\t\t\t\t<span>{item.price * item.count}€</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* <Colors colors={item.colors} /> */}\n\t\t\t\t\t\t\t<p>{item.description}</p>\n\t\t\t\t\t\t\t<p>{item.content}</p>\n\t\t\t\t\t\t\t<div className=\"amount\">\n\t\t\t\t\t\t\t\t<button className=\"count\" onClick={() => reduction(item._id)}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t-{' '}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<span>{item.count}</span>\n\t\t\t\t\t\t\t\t<button className=\"count\" onClick={() => increase(item._id)}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t+{' '}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"delete\" onClick={() => removeProduct(item._id)}>\n\t\t\t\t\t\t\tX\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))\n\t\t\t)}\n\t\t\t<div className=\"total\">\n\t\t\t\t<Link to=\"/payment\">Paiement</Link>\n\t\t\t\t<h3>Total:{total}€</h3>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}