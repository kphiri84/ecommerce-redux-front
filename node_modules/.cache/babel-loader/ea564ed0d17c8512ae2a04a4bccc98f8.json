{"ast":null,"code":"var _jsxFileName = \"/home/kenny/ecommerce-front1/src/components/Profile.js\";\nimport React, { useState, useEffect } from 'react'; // import './profile.css';\n\nimport { Container, Col } from 'reactstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport AuthService from '../services/auth.service';\n\nconst Profile = props => {\n  const {\n    user: currentUser\n  } = useSelector(state => state.auth);\n  const [details, setDetails] = useState({\n    pseudo: '',\n    email: ''\n  });\n  useEffect(() => {\n    getProfil();\n  }, []);\n\n  const getProfil = () => {\n    setDetails({\n      pseudo: currentUser.pseudo,\n      email: currentUser.email\n    });\n  };\n\n  const [modif, setModif] = useState(false);\n  const [modifiedProfile, setModifiedProfile] = useState({\n    email: details.email,\n    password: details.password\n  });\n  const [typedPW, setTypedPW] = useState('');\n  const [validPW, setValidPW] = useState();\n\n  const changePW = e => {\n    return e.target.value !== '' && typedPW !== '' && e.target.value === typedPW ? setValidPW(true) & setModifiedProfile({ ...modifiedProfile,\n      password: e.target.value\n    }) : setValidPW(false);\n  };\n\n  const modifprof = () => {\n    setModif(!modif);\n  };\n\n  const validprof = () => {\n    setDetails({ ...details,\n      mail: modifiedProfile.mail,\n      password: modifiedProfile.password\n    });\n    setModif(!modif);\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"profile_page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"entete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, \"Pseudo\"), /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"valeur\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, details.pseudo), /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"entete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"Adresse Mail\"), /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"valeur\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, modif ? /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: modifiedProfile.mail,\n    onChange: e => setModifiedProfile({ ...modifiedProfile,\n      mail: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }) : details.email), modif ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"entete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"Nouveau mot de passe\"), /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"valeur\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: validPW ? 'valid' : 'invalid',\n    value: typedPW,\n    onChange: e => setTypedPW(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"entete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, \"Valider mot de passe\"), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: validPW ? 'valid' : 'invalid',\n    onChange: e => changePW(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 10\n    }\n  }))) : '')), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, modif ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"modif_button\",\n    onClick: e => validprof(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, \"Valider mon profil\") : /*#__PURE__*/React.createElement(\"button\", {\n    className: \"modif_button\",\n    onClick: e => modifprof(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, \"Modifier mon profil\"))));\n};\n\nexport default Profile;","map":{"version":3,"sources":["/home/kenny/ecommerce-front1/src/components/Profile.js"],"names":["React","useState","useEffect","Container","Col","useDispatch","useSelector","AuthService","Profile","props","user","currentUser","state","auth","details","setDetails","pseudo","email","getProfil","modif","setModif","modifiedProfile","setModifiedProfile","password","typedPW","setTypedPW","validPW","setValidPW","changePW","e","target","value","modifprof","validprof","mail"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n// import './profile.css';\nimport { Container, Col } from 'reactstrap';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport AuthService from '../services/auth.service';\n\nconst Profile = (props) => {\n  const { user: currentUser } = useSelector((state) => state.auth);\n\tconst [ details, setDetails ] = useState({\n\t\tpseudo: '',\n\t\temail: ''\n\t});\n\n\tuseEffect(() => {\n\t\tgetProfil();\n\t}, []);\n\n\tconst getProfil = () => {\n\n\t\tsetDetails({\n\t\t\tpseudo: currentUser.pseudo,\n\t\t\temail: currentUser.email\n\t\t});\n\t};\n\n\tconst [ modif, setModif ] = useState(false);\n\n\tconst [ modifiedProfile, setModifiedProfile ] = useState({\n\t\temail: details.email,\n\t\tpassword: details.password\n\t});\n\tconst [ typedPW, setTypedPW ] = useState('');\n\tconst [ validPW, setValidPW ] = useState();\n\tconst changePW = (e) => {\n\t\treturn e.target.value !== '' && typedPW !== '' && e.target.value === typedPW\n\t\t\t? setValidPW(true) & setModifiedProfile({ ...modifiedProfile, password: e.target.value })\n\t\t\t: setValidPW(false);\n\t};\n\tconst modifprof = () => {\n\t\tsetModif(!modif);\n\t};\n\tconst validprof = () => {\n\t\tsetDetails({\n\t\t\t...details,\n\t\t\tmail: modifiedProfile.mail,\n\t\t\tpassword: modifiedProfile.password\n\t\t});\n\t\tsetModif(!modif);\n\t};\n\treturn (\n\t\t<Container>\n\t\t\t<Col className=\"profile_page\">\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr className=\"entete\">Pseudo</tr>\n\t\t\t\t\t\t<tr className=\"valeur\">{details.pseudo}</tr>\n\t\t\t\t\t\t<tr className=\"entete\">Adresse Mail</tr>\n\t\t\t\t\t\t<tr className=\"valeur\">\n\t\t\t\t\t\t\t{modif ? (\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={modifiedProfile.mail}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetModifiedProfile({\n\t\t\t\t\t\t\t\t\t\t\t...modifiedProfile,\n\t\t\t\t\t\t\t\t\t\t\tmail: e.target.value\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tdetails.email\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{modif ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<tr className=\"entete\">Nouveau mot de passe</tr>\n\t\t\t\t\t\t\t\t<tr className=\"valeur\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tclassName={validPW ? 'valid' : 'invalid'}\n\t\t\t\t\t\t\t\t\t\tvalue={typedPW}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTypedPW(e.target.value)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr className=\"entete\">Valider mot de passe</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tclassName={validPW ? 'valid' : 'invalid'}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => changePW(e)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<div>\n\t\t\t\t\t{modif ? (\n\t\t\t\t\t\t<button className=\"modif_button\" onClick={(e) => validprof(e)}>\n\t\t\t\t\t\t\tValider mon profil\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button className=\"modif_button\" onClick={(e) => modifprof(e)}>\n\t\t\t\t\t\t\tModifier mon profil\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</Col>\n\t\t</Container>\n\t);\n};\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}