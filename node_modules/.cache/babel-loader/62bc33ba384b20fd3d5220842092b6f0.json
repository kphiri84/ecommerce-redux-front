{"ast":null,"code":"var _jsxFileName = \"/home/kenny/ecommerce-redux-front/src/components/Adress.js\";\nimport React, { useState, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Form from 'react-validation/build/form';\nimport Input from 'react-validation/build/input';\nimport CheckButton from 'react-validation/build/button';\nimport { isEmail } from 'validator';\nimport { register } from '../actions/auth.action';\n\nconst required = value => {\n  if (!value) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 4\n      }\n    }, \"This field is required!\");\n  }\n};\n\nconst validEmail = value => {\n  if (!isEmail(value)) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 4\n      }\n    }, \"This is not a valid email.\");\n  }\n};\n\nconst vusername = value => {\n  if (value.length < 3 || value.length > 20) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 4\n      }\n    }, \"The username must be between 3 and 20 characters.\");\n  }\n};\n\nconst Adress = () => {\n  const form = useRef();\n  const checkBtn = useRef();\n  const [firstname, setFirstname] = useState('');\n  const [lastname, setLastname] = useState('');\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [successful, setSuccessful] = useState(false);\n  const {\n    message\n  } = useSelector(state => state.message);\n  const dispatch = useDispatch();\n\n  const onChangeFirstname = e => {\n    const firstname = e.target.value;\n    setFirstname(firstname);\n  };\n\n  const onChangeLastname = e => {\n    const lastname = e.target.value;\n    setLastname(lastname);\n  };\n\n  const onChangeUsername = e => {\n    const username = e.target.value;\n    setUsername(username);\n  };\n\n  const onChangeEmail = e => {\n    const email = e.target.value;\n    setEmail(email);\n  };\n\n  const onChangePassword = e => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n  const handleRegister = e => {\n    e.preventDefault();\n    setSuccessful(false);\n    form.current.validateAll();\n\n    if (checkBtn.current.context._errors.length === 0) {\n      dispatch(register(firstname, lastname, username, email, password)).then(() => {\n        setSuccessful(true);\n      }).catch(() => {\n        setSuccessful(false);\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \" card-container card2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleRegister,\n    ref: form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, !successful && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"Civilit\\xE9\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"firstname\",\n    value: firstname,\n    onChange: onChangeFirstname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, \"Pr\\xE9nom\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"firstname\",\n    value: firstname,\n    onChange: onChangeFirstname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"lastName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, \"Nom\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"lastname\",\n    value: lastname,\n    onChange: onChangeLastname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, \"Num\\xE9ro de t\\xE9l\\xE9phone\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"username\",\n    value: username,\n    onChange: onChangeUsername,\n    validations: [required, vusername],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, \"Num\\xE9ro et nom de rue\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"email\",\n    value: email,\n    onChange: onChangeEmail,\n    validations: [required, validEmail],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, \"Compl\\xE9ment d'adresse\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    className: \"form-control\",\n    name: \"password\",\n    value: password,\n    onChange: onChangePassword,\n    validations: [required],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, \"Code postal\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    className: \"form-control\",\n    name: \"password\",\n    value: password,\n    onChange: onChangePassword,\n    validations: [required],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, \"Ville\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    className: \"form-control\",\n    name: \"password\",\n    value: password,\n    onChange: onChangePassword,\n    validations: [required],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }\n  }, \"Pays\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    className: \"form-control\",\n    name: \"password\",\n    value: password,\n    onChange: onChangePassword,\n    validations: [required],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary btn-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }\n  }, \"Proc\\xE9der au paiement\"))), message && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: successful ? 'alert alert-success' : 'alert alert-danger',\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 8\n    }\n  }, message)), /*#__PURE__*/React.createElement(CheckButton, {\n    style: {\n      display: 'none'\n    },\n    ref: checkBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 6\n    }\n  }))));\n};\n\nexport default Adress;","map":{"version":3,"sources":["/home/kenny/ecommerce-redux-front/src/components/Adress.js"],"names":["React","useState","useRef","useDispatch","useSelector","Form","Input","CheckButton","isEmail","register","required","value","validEmail","vusername","length","Adress","form","checkBtn","firstname","setFirstname","lastname","setLastname","username","setUsername","email","setEmail","password","setPassword","successful","setSuccessful","message","state","dispatch","onChangeFirstname","e","target","onChangeLastname","onChangeUsername","onChangeEmail","onChangePassword","handleRegister","preventDefault","current","validateAll","context","_errors","then","catch","display"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Form from 'react-validation/build/form';\nimport Input from 'react-validation/build/input';\nimport CheckButton from 'react-validation/build/button';\nimport { isEmail } from 'validator';\n\nimport { register } from '../actions/auth.action';\n\nconst required = (value) => {\n\tif (!value) {\n\t\treturn (\n\t\t\t<div className=\"alert alert-danger\" role=\"alert\">\n\t\t\t\tThis field is required!\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nconst validEmail = (value) => {\n\tif (!isEmail(value)) {\n\t\treturn (\n\t\t\t<div className=\"alert alert-danger\" role=\"alert\">\n\t\t\t\tThis is not a valid email.\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nconst vusername = (value) => {\n\tif (value.length < 3 || value.length > 20) {\n\t\treturn (\n\t\t\t<div className=\"alert alert-danger\" role=\"alert\">\n\t\t\t\tThe username must be between 3 and 20 characters.\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nconst Adress = () => {\n\tconst form = useRef();\n\tconst checkBtn = useRef();\n\n\tconst [ firstname, setFirstname ] = useState('');\n\tconst [ lastname, setLastname ] = useState('');\n\tconst [ username, setUsername ] = useState('');\n\tconst [ email, setEmail ] = useState('');\n\tconst [ password, setPassword ] = useState('');\n\tconst [ successful, setSuccessful ] = useState(false);\n\n\tconst { message } = useSelector((state) => state.message);\n\tconst dispatch = useDispatch();\n\n\tconst onChangeFirstname = (e) => {\n\t\tconst firstname = e.target.value;\n\t\tsetFirstname(firstname);\n\t};\n\n\tconst onChangeLastname = (e) => {\n\t\tconst lastname = e.target.value;\n\t\tsetLastname(lastname);\n\t};\n\n\tconst onChangeUsername = (e) => {\n\t\tconst username = e.target.value;\n\t\tsetUsername(username);\n\t};\n\n\tconst onChangeEmail = (e) => {\n\t\tconst email = e.target.value;\n\t\tsetEmail(email);\n\t};\n\n\tconst onChangePassword = (e) => {\n\t\tconst password = e.target.value;\n\t\tsetPassword(password);\n\t};\n\n\tconst handleRegister = (e) => {\n\t\te.preventDefault();\n\n\t\tsetSuccessful(false);\n\n\t\tform.current.validateAll();\n\n\t\tif (checkBtn.current.context._errors.length === 0) {\n\t\t\tdispatch(register(firstname, lastname, username, email, password))\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetSuccessful(true);\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tsetSuccessful(false);\n\t\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"col-md-12\">\n\t\t\t<div className=\" card-container card2\">\n\t\t\t\t<Form onSubmit={handleRegister} ref={form}>\n\t\t\t\t\t{!successful && (\n\t\t\t\t\t\t<div>\n                            <div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"firstName\">Civilité</label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tname=\"firstname\"\n\t\t\t\t\t\t\t\t\tvalue={firstname}\n\t\t\t\t\t\t\t\t\tonChange={onChangeFirstname}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"firstName\">Prénom</label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tname=\"firstname\"\n\t\t\t\t\t\t\t\t\tvalue={firstname}\n\t\t\t\t\t\t\t\t\tonChange={onChangeFirstname}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"lastName\">Nom</label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tname=\"lastname\"\n\t\t\t\t\t\t\t\t\tvalue={lastname}\n\t\t\t\t\t\t\t\t\tonChange={onChangeLastname}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"username\">Numéro de téléphone</label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\t\tonChange={onChangeUsername}\n\t\t\t\t\t\t\t\t\tvalidations={[ required, vusername ]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"email\">Numéro et nom de rue</label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\tonChange={onChangeEmail}\n\t\t\t\t\t\t\t\t\tvalidations={[ required, validEmail ]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"password\">Complément d'adresse</label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\tonChange={onChangePassword}\n\t\t\t\t\t\t\t\t\tvalidations={[ required ]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n                            <div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"password\">Code postal</label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\tonChange={onChangePassword}\n\t\t\t\t\t\t\t\t\tvalidations={[ required ]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n                            <div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"password\">Ville</label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\tonChange={onChangePassword}\n\t\t\t\t\t\t\t\t\tvalidations={[ required ]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n                            <div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"password\">Pays</label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\tonChange={onChangePassword}\n\t\t\t\t\t\t\t\t\tvalidations={[ required ]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<button className=\"btn btn-primary btn-block\">Procéder au paiement</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{message && (\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<div className={successful ? 'alert alert-success' : 'alert alert-danger'} role=\"alert\">\n\t\t\t\t\t\t\t\t{message}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<CheckButton style={{ display: 'none' }} ref={checkBtn} />\n\t\t\t\t</Form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Adress;\n"]},"metadata":{},"sourceType":"module"}