{"ast":null,"code":"import { FETCHING_CART, ADD_TO_CART_SUCCESS, CLEAR_ERROR_MESSAGE, FETCHING_CART_SUCCESS, FETCHING_CART_FAILURE, PAY_TOTAL_FAILURE, PAID_TOTAL_SUCCESSFULLY } from '../actions/types';\nimport produce from 'immer';\nconst initialState = {\n  cart: [],\n  error: '',\n  isFetching: false,\n  message: ''\n};\nconst cart = produce((state = initialState, action) => {\n  const {\n    type\n  } = action;\n\n  switch (type) {\n    case FETCHING_CART:\n      return { ...state,\n        isFetching: true\n      };\n\n    case ADD_TO_CART_SUCCESS:\n      const item = action.cart;\n      const id = state.cart.find(x => x.id === item.id);\n\n      if (id) {\n        return {\n          cart: state.cart.map(x => x.id === id.id ? item : x)\n        };\n      }\n\n      return {\n        cart: [...state.cart, item],\n        message: action.message\n      };\n\n    case CLEAR_ERROR_MESSAGE:\n      return { ...state,\n        message: '',\n        error: ''\n      };\n\n    case FETCHING_CART_FAILURE:\n      return { ...state,\n        isFetching: false,\n        error: action.error\n      };\n\n    case FETCHING_CART_SUCCESS:\n      return { ...state,\n        isFetching: false,\n        error: '',\n        cart: action.cart\n      };\n\n    case PAY_TOTAL_FAILURE:\n      return { ...state,\n        isFetching: false,\n        error: action.error\n      };\n\n    case PAID_TOTAL_SUCCESSFULLY:\n      return { ...state,\n        isFetching: false,\n        error: ''\n      };\n\n    default:\n      return state;\n  }\n});\nexport default cart;","map":{"version":3,"sources":["/home/kenny/ecommerce-redux-front/src/reducers/cart.reducer.js"],"names":["FETCHING_CART","ADD_TO_CART_SUCCESS","CLEAR_ERROR_MESSAGE","FETCHING_CART_SUCCESS","FETCHING_CART_FAILURE","PAY_TOTAL_FAILURE","PAID_TOTAL_SUCCESSFULLY","produce","initialState","cart","error","isFetching","message","state","action","type","item","id","find","x","map"],"mappings":"AAAA,SACCA,aADD,EAECC,mBAFD,EAGCC,mBAHD,EAICC,qBAJD,EAKCC,qBALD,EAMCC,iBAND,EAOCC,uBAPD,QAQO,kBARP;AASA,OAAOC,OAAP,MAAoB,OAApB;AAEA,MAAMC,YAAY,GAAG;AACpBC,EAAAA,IAAI,EAAE,EADc;AAEpBC,EAAAA,KAAK,EAAE,EAFa;AAGpBC,EAAAA,UAAU,EAAE,KAHQ;AAIpBC,EAAAA,OAAO,EAAE;AAJW,CAArB;AAMA,MAAMH,IAAI,GAAGF,OAAO,CAAC,CAACM,KAAK,GAAGL,YAAT,EAAuBM,MAAvB,KAAkC;AACtD,QAAM;AAAEC,IAAAA;AAAF,MAAWD,MAAjB;;AACA,UAAQC,IAAR;AACC,SAAKf,aAAL;AACC,aAAO,EACN,GAAGa,KADG;AAENF,QAAAA,UAAU,EAAE;AAFN,OAAP;;AAKD,SAAKV,mBAAL;AACC,YAAMe,IAAI,GAAGF,MAAM,CAACL,IAApB;AACA,YAAMQ,EAAE,GAAGJ,KAAK,CAACJ,IAAN,CAAWS,IAAX,CAAiBC,CAAD,IAAOA,CAAC,CAACF,EAAF,KAASD,IAAI,CAACC,EAArC,CAAX;;AACA,UAAIA,EAAJ,EAAQ;AACP,eAAO;AACNR,UAAAA,IAAI,EAAEI,KAAK,CAACJ,IAAN,CAAWW,GAAX,CAAgBD,CAAD,IAAQA,CAAC,CAACF,EAAF,KAASA,EAAE,CAACA,EAAZ,GAAiBD,IAAjB,GAAwBG,CAA/C;AADA,SAAP;AAGA;;AACD,aAAO;AACNV,QAAAA,IAAI,EAAE,CAAE,GAAGI,KAAK,CAACJ,IAAX,EAAiBO,IAAjB,CADA;AAENJ,QAAAA,OAAO,EAAEE,MAAM,CAACF;AAFV,OAAP;;AAID,SAAKV,mBAAL;AACC,aAAO,EACN,GAAGW,KADG;AAEND,QAAAA,OAAO,EAAE,EAFH;AAGNF,QAAAA,KAAK,EAAE;AAHD,OAAP;;AAMD,SAAKN,qBAAL;AACC,aAAO,EACN,GAAGS,KADG;AAENF,QAAAA,UAAU,EAAE,KAFN;AAGND,QAAAA,KAAK,EAAEI,MAAM,CAACJ;AAHR,OAAP;;AAMD,SAAKP,qBAAL;AACC,aAAO,EACN,GAAGU,KADG;AAENF,QAAAA,UAAU,EAAE,KAFN;AAGND,QAAAA,KAAK,EAAE,EAHD;AAIND,QAAAA,IAAI,EAAEK,MAAM,CAACL;AAJP,OAAP;;AAOD,SAAKJ,iBAAL;AACC,aAAO,EACN,GAAGQ,KADG;AAENF,QAAAA,UAAU,EAAE,KAFN;AAGND,QAAAA,KAAK,EAAEI,MAAM,CAACJ;AAHR,OAAP;;AAMD,SAAKJ,uBAAL;AACC,aAAO,EACN,GAAGO,KADG;AAENF,QAAAA,UAAU,EAAE,KAFN;AAGND,QAAAA,KAAK,EAAE;AAHD,OAAP;;AAMD;AACC,aAAOG,KAAP;AAxDF;AA0DA,CA5DmB,CAApB;AA8DA,eAAeJ,IAAf","sourcesContent":["import {\n\tFETCHING_CART,\n\tADD_TO_CART_SUCCESS,\n\tCLEAR_ERROR_MESSAGE,\n\tFETCHING_CART_SUCCESS,\n\tFETCHING_CART_FAILURE,\n\tPAY_TOTAL_FAILURE,\n\tPAID_TOTAL_SUCCESSFULLY\n} from '../actions/types';\nimport produce from 'immer';\n\nconst initialState = {\n\tcart: [],\n\terror: '',\n\tisFetching: false,\n\tmessage: ''\n};\nconst cart = produce((state = initialState, action) => {\n\tconst { type } = action;\n\tswitch (type) {\n\t\tcase FETCHING_CART:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: true\n\t\t\t};\n\n\t\tcase ADD_TO_CART_SUCCESS:\n\t\t\tconst item = action.cart;\n\t\t\tconst id = state.cart.find((x) => x.id === item.id);\n\t\t\tif (id) {\n\t\t\t\treturn {\n\t\t\t\t\tcart: state.cart.map((x) => (x.id === id.id ? item : x))\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tcart: [ ...state.cart, item ],\n\t\t\t\tmessage: action.message\n\t\t\t};\n\t\tcase CLEAR_ERROR_MESSAGE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmessage: '',\n\t\t\t\terror: ''\n\t\t\t};\n\n\t\tcase FETCHING_CART_FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: false,\n\t\t\t\terror: action.error\n\t\t\t};\n\n\t\tcase FETCHING_CART_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: false,\n\t\t\t\terror: '',\n\t\t\t\tcart: action.cart\n\t\t\t};\n\n\t\tcase PAY_TOTAL_FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: false,\n\t\t\t\terror: action.error\n\t\t\t};\n\n\t\tcase PAID_TOTAL_SUCCESSFULLY:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: false,\n\t\t\t\terror: ''\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n});\n\nexport default cart;\n"]},"metadata":{},"sourceType":"module"}